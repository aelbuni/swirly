(function(a){a.fn.swirly=function(q){var d=this;var j={init:function(r){j.config=a.extend(a.fn.swirly.defaults,r);j.setup()},setup:function(){var u="";var s;var r=j.config.colors.length;for(var t=0;t<2;t++){s=j.config.colors[t%r];u=u+"<span style='position:relative;left:0px;top:0px;color:"+s+"' class='swirly-circle swirly-"+d.attr("id")+"-"+t+"'>"+j.config.text+"</span>"}d.html(u)}};j.init(q);var k;var n;var l;var m;var i;var g;var f=j.config.speed;var c=j.config.initialX;var p=j.config.initialY;var e=0;var b;var o=requestAnimationFrame(h);function h(){c=j.config.initialX;p=j.config.initialY;d.find("span.swirly-circle").css("font-size",j.config.swirlySize);b=j.config.phaseShift*Math.PI/180;n=((2*Math.PI*e/j.config.frequencyX)+b);n=n%360;k=(j.config.scale*Math.sin(n));k+=j.config.offset;m=(2*Math.PI*e/j.config.frequencyY);m=m%360;signalY=(j.config.scale*Math.sin(m));signalY=j.config.scale*Math.sin(m);signalY+=j.config.offset;if(j.config.reverseX==-1){c=Math.abs(c)*-1}else{c=Math.abs(c)}if(j.config.reverseY==-1){p=Math.abs(p)*-1}else{p=Math.abs(p)}if(j.config.reverseX==-1){i=(k+c)*j.config.reverseX}else{i=(k+c);k=k+(c*2)+j.config.offset}if(j.config.reverseY==-1){g=(signalY+p)*j.config.reverseY}else{g=(signalY+p);signalY=signalY+(p*2)+j.config.offset}k-=c;signalY-=p;d.find("span.swirly-"+d.attr("id")+"-0").animate({left:k,top:signalY},f/2);d.find("span.swirly-"+d.attr("id")+"-1").animate({left:i,top:g},f/2);e=(e+30)%999999;if(d.children().length==0){cancelAnimationFrame(o)}o=requestAnimationFrame(h)}return o};a.fn.swirly.remove=function(b,c){cancelAnimationFrame(b);a(c).empty()};a.fn.swirly.defaults={phaseShift:90,swirlySize:28,frequencyX:2100,frequencyY:2240,offset:0,scale:40,speed:20,reverseY:-1,reverseX:-1,initialX:65,initialY:65,text:"&#9679;",img:"",stop:false,colors:["black","blue"]}})(jQuery);
